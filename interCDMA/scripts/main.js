$(document).ready(function(){function a(a,b){var c=[],d=a.split(" ").join(")(?=.*"),e=").*",f=new RegExp("(?=.*"+d+e,"ig");c=b.filter(function(a){var b=a.name.replace(/\s\s+/g," ");return f.test(b)}),$(".search-result").empty(),c.map(function(a){$(".search-result").append('<li>\r\n          		<div class="search-result__img-wrap"><img src="'+a.link+'" class="search-result__img"></div>\r\n          		<div class="search-result__text">\r\n          		<h3 class="search-result__text-title">'+a.name+'</h3>\r\n          		<div class="search-result__text-price">'+a.price+"</div>\r\n          		</div></li>")}),$(".js-result-all").closest(".search-result-wrap").find(".search-result").removeClass("show_all"),$(".js-result-all").show()}var b=$(this),c=$(".js-close-popup",b),d=$(".filter__buttons",b),e=$(".js-filter-reset",d),f=$(".js-filter-toogle",d),g=$("#filter"),h=$(".checkout").find("input:radio");if($("#content").hasClass("need-custom-select")){$("select").selectBoxIt()}h.on("click",function(){var a=$(this);$(this).closest(".step_unit-content").find(".radio-control").removeClass("active"),a.is(":checked")&&a.closest(".radio-control").addClass("active")}),c.on("click",function(a){a.preventDefault;var b=($(this),$("#popup_block"));b.removeClass("show_popup").find(".popup__window").removeClass("popup-active")}),f.on("click",function(a){a.preventDefault();var b=$(this),c=b.data("hide"),e=b.data("show");d.toggleClass("active"),g.toggleClass("active"),b.html(g.hasClass("active")?c:e)}),e.on("click",function(a){a.preventDefault();var b=($(this),g.find("input"));b.each(function(){"checkbox"==$(this).attr("type")?$(this).removeAttr("checked"):"text"==$(this).attr("type")&&$(this).val("")})}),$(".item__slider").each(function(){function a(){c.animate({"margin-top":-(h+ +i)*l},400,function(){k=!1})}var b=$(this),c=$(".item__slider-control__list",b),d=$("li",c),e=$(".item__slider-body__list li",b),f=$(".item__slider-control .arrow-wrap-down",b),g=$(".item__slider-control .arrow-wrap-up",b),h=d.first().outerHeight(),i=d.first().css("marginTop").replace("px",""),j=d.length-3,k=!1,l=0,m=0;d.first().addClass("active"),e.first().addClass("active"),d.on("click",function(){return k?!1:($(this).addClass("active").siblings().removeClass("active"),m=$(this).index(),e.eq(m).addClass("active").siblings(".active").removeClass("active"),!1)}),f.on("click",function(){return k?!1:(k=!0,l++,l>j&&(l=0),void a())}),g.on("click",function(){return k?!1:(k=!0,l--,0>l&&(l=j),void a())})}),$(".searchstring_field").on("keyup",function(b){$(this).val().length>1?($(this).closest(".searchstring-wrap").find(".search-result-wrap").addClass("active"),$.ajax({url:"json/phones.json",type:"GET",success:function(c){var d=$(b.currentTarget).val();a(d,c.phones)}})):$(this).closest(".searchstring-wrap").find(".search-result-wrap").removeClass("active")}),$(".js-result-all").on("click",function(){$(this).closest(".search-result-wrap").find(".search-result").addClass("show_all"),$(this).hide()}),$(".step_unit-header-edit").on("click",function(a){a.preventDefault(),$(this).closest(".step_unit").toggleClass("active")}),$(".js-btn-cancel").on("click",function(a){a.preventDefault(),$(this).siblings("input").val("")}),$(".js-scroll-top").on("click",function(){$("html, body").animate({scrollTop:0})}),$(".js-popup-item-close").on("click",function(a){a.preventDefault();var b=$(this);b.closest("li").remove(),0==$(".popup__compare-list").find("li").length&&($(".popup__window.popup__compare").remove(),$("#popup_block").removeClass("show_popup"))}),$(".js-btn-login").on("click",function(a){a.preventDefault(),$("#popup_block").addClass("show_popup").find(".popup__login").addClass("popup-active")})});